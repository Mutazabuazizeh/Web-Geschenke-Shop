<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Weihnachtsgeschenke-Shop</title>

  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div id="page-catalog">
  <h1>{{ title }}</h1>

  <input
    type="text"
    placeholder="Suche..."
    v-model="search"
  >

  <div
    class="product"
    v-for="product in filteredProducts"
    :key="product.id"
  >
    <img :src="product.image" width="150">

    <h3>{{ product.title }}</h3>

    <p>{{ product.price.toFixed(2) }} €</p>

    <button @click="orderProduct(product)">+</button>
    <span>{{ cart.find(p => p.id === product.id)?.quantity || 0 }}</span>
    <button
      @click="removeProduct(product)"
      :disabled="!cart.find(p => p.id === product.id)"
    >−</button>
  </div>

  <hr>

  <p>Produkte: {{ cartTotalPositions }}</p>
  <p>Stück: {{ cartTotalItems }}</p>
  <p>Zwischensumme: {{ cartNetPrice.toFixed(2) }} €</p>
  <p>MwSt (7%): {{ cartVat.toFixed(2) }} €</p>
  <strong>Gesamt: {{ cartGrossPrice.toFixed(2) }} €</strong>

  <div id="message-bar">
    <div class="message" v-for="(msg, i) in messages" :key="i">
      {{ msg }}
    </div>
  </div>
</div>

<script src="js/app.js"></script>
</body>
</html>
